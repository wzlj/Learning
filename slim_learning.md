# The first case
https://github.com/PanJinquan/tensorflow_models_learning

## Training resnet_v1_50
1. Download data and convert the dataset to tfrecord
2. Training model(batch size set to 32), optimizer is sgd and learning rate is 0.01  >> resnet50_v1_train_and_val.py

## Test 
If you use the predict.py directly, there is nothing to do. Just set the parameters as needed.
If you change 

import slim.nets.resnet_v1 as resnet_v1
to 
from tensorflow.contrib.slim.python.slim.nets import resnet_v1

you need  to squeeze axis of the output of model, as follow:
out = tf.squeeze(out, [1, 2])

###  The log of original file

'''
out_  =============> 
 [[ -6.91853094  15.81279469   0.42108789  -6.97896862  -0.40210921]]
_______________________________________________________________________


test_image/guitar.jpg is: pre labels:[1], score: [ 0.99999964]
out_  =============> 
 [[-7.45501947 -0.15497145  3.60451913  6.76841259 -1.90359092]]
_______________________________________________________________________


test_image/houses.jpg is: pre labels:[3], score: [ 0.95838928]
out_  =============> 
 [[  1.68059301   5.90215063  10.80447006  -6.51670885 -10.18956852]]
_______________________________________________________________________


test_image/animal.jpg is: pre labels:[2], score: [ 0.99251807]
out_  =============> 
 [[ 15.88582897   4.23792601  -4.71351004 -13.16296387  -1.81357419]]
_______________________________________________________________________


test_image/flower.jpg is: pre labels:[0], score: [ 0.9999913]
'''

### The log just "from tensorflow.contrib.slim.python.slim.nets import resnet_v1"

'''
out_  =============> 
 [[[[ -6.9185276   15.81279659   0.42108163  -6.97897053  -0.40210271]]]]
_______________________________________________________________________


test_image/guitar.jpg is: pre labels:[[[0 0 0 0 0]]], score: [[[[[  1.34249167e-10   9.99999642e-01   2.06758301e-07   1.26374994e-10
       9.07734119e-08]]

   [[  1.34249167e-10   9.99999642e-01   2.06758301e-07   1.26374994e-10
       9.07734119e-08]]

   [[  1.34249167e-10   9.99999642e-01   2.06758301e-07   1.26374994e-10
       9.07734119e-08]]

   [[  1.34249167e-10   9.99999642e-01   2.06758301e-07   1.26374994e-10
       9.07734119e-08]]

   [[  1.34249167e-10   9.99999642e-01   2.06758301e-07   1.26374994e-10
       9.07734119e-08]]]]]
out_  =============> 
 [[[[-7.45502567 -0.15496269  3.60448933  6.76842022 -1.90357351]]]]
_______________________________________________________________________


test_image/houses.jpg is: pre labels:[[[0 0 0 0 0]]], score: [[[[[  6.37350809e-07   9.43529885e-04   4.05009203e-02   9.58390713e-01
       1.64188896e-04]]

   [[  6.37350809e-07   9.43529885e-04   4.05009203e-02   9.58390713e-01
       1.64188896e-04]]

   [[  6.37350809e-07   9.43529885e-04   4.05009203e-02   9.58390713e-01
       1.64188896e-04]]

   [[  6.37350809e-07   9.43529885e-04   4.05009203e-02   9.58390713e-01
       1.64188896e-04]]

   [[  6.37350809e-07   9.43529885e-04   4.05009203e-02   9.58390713e-01
       1.64188896e-04]]]]]
out_  =============> 
 [[[[  1.68059659   5.90215206  10.80447388  -6.51672363 -10.18956757]]]]
_______________________________________________________________________


test_image/animal.jpg is: pre labels:[[[0 0 0 0 0]]], score: [[[[[  1.08215325e-04   7.37372786e-03   9.92518067e-01   2.98014875e-08
       7.57080565e-10]]

   [[  1.08215325e-04   7.37372786e-03   9.92518067e-01   2.98014875e-08
       7.57080565e-10]]

   [[  1.08215325e-04   7.37372786e-03   9.92518067e-01   2.98014875e-08
       7.57080565e-10]]

   [[  1.08215325e-04   7.37372786e-03   9.92518067e-01   2.98014875e-08
       7.57080565e-10]]

   [[  1.08215325e-04   7.37372786e-03   9.92518067e-01   2.98014875e-08
       7.57080565e-10]]]]]
out_  =============> 
 [[[[ 15.88583279   4.23793077  -4.71350718 -13.1629715   -1.81357455]]]]
_______________________________________________________________________


test_image/flower.jpg is: pre labels:[[[0 0 0 0 0]]], score: [[[[[  9.99991298e-01   8.73729095e-06   1.13192145e-09   2.42248116e-13
       2.05703259e-08]]

   [[  9.99991298e-01   8.73729095e-06   1.13192145e-09   2.42248116e-13
       2.05703259e-08]]

   [[  9.99991298e-01   8.73729095e-06   1.13192145e-09   2.42248116e-13
       2.05703259e-08]]

   [[  9.99991298e-01   8.73729095e-06   1.13192145e-09   2.42248116e-13
       2.05703259e-08]]

   [[  9.99991298e-01   8.73729095e-06   1.13192145e-09   2.42248116e-13
       2.05703259e-08]]]]]

'''


### The log while adding "out = tf.squeeze(out, [1, 2])"  following the model

out_  =============> 
 [[ -6.91853094  15.81279469   0.42108789  -6.97896862  -0.40210921]]
_______________________________________________________________________


test_image/guitar.jpg is: pre labels:[1], score: [ 0.99999964]
out_  =============> 
 [[-7.45501947 -0.15497145  3.60451913  6.76841259 -1.90359092]]
_______________________________________________________________________


test_image/houses.jpg is: pre labels:[3], score: [ 0.95838928]
out_  =============> 
 [[  1.68059301   5.90215063  10.80447006  -6.51670885 -10.18956852]]
_______________________________________________________________________


test_image/animal.jpg is: pre labels:[2], score: [ 0.99251807]
out_  =============> 
 [[ 15.88582897   4.23792601  -4.71351004 -13.16296387  -1.81357419]]
_______________________________________________________________________


test_image/flower.jpg is: pre labels:[0], score: [ 0.9999913]



